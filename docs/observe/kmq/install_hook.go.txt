func InstallKmqHooks() {
	kmq.WithPartitionHooks(kmq.PartitionHooks{
		OnGateBacklog: func(topic string, partition int32, backlog int64) {
			metrics.KmqGateBacklog.
				WithLabelValues(topic, strconv.Itoa(int(partition))).
				Set(float64(backlog))
		},
		OnBatchCommit: func(topic string, ok bool) {
			if ok {
				metrics.KmqBatchCommitTotal.WithLabelValues(topic).Inc()
			} else {
				metrics.KmqBatchCommitFailedTotal.WithLabelValues(topic).Inc()
			}
		},
		OnRebalance: func(group, typ string) {
			metrics.KmqRebalanceTotal.WithLabelValues(group, typ).Inc()
		},
		OnDLQ: func(topic, component string) {
			metrics.KmqDLQMessagesTotal.WithLabelValues(topic, component).Inc()
		},
	})
}